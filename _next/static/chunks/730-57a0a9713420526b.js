"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[730],{3730:function(e,t,r){r.d(t,{Z:function(){return C}});var s=r(5893),a=r(7294),n=r(8085),o=r(3754),i=r(3100),l=r(1669),c=r(6367),d=r(8911),u=r(1167),h=r(9501),p=r(2393),m=r(2059),g=r(6455),x=r.n(g),f=r(8530),v=r(5461);let w=e=>{let{onAuthDone:t}=e,{auth:r,db:n}=(0,m.f2)(),[i,c]=(0,a.useState)(""),[g,w]=(0,a.useState)(),[y,j]=(0,a.useState)(""),[b,S]=(0,a.useState)(),[C,P]=(0,a.useState)(),{signIn:k,resetPassword:E,onAuthPrompt:Z,googleSignIn:A}=(0,f.ZP)(null==r?void 0:r.service),N=()=>{w(""),S("")},I=e=>{e.preventDefault(),N(),(0,o.N4)(i)?w("Please enter your email address."):(0,o.vV)(i)?r&&(j(""),P(!0),E(i).then(()=>{x().fire({icon:"info",text:(0,o.vV)(i)?"A password reset email has been sent to ".concat(i,". Check your inbox or spam folder for the email sent."):"A password reset code has been sent to ".concat(i,". Check your messages for the code sent.")}),P(!1),j(y)}).catch(e=>{let t;t="auth/user-not-found"==e.code?"The account is invalid.":e.message,x().fire({icon:"error",text:t}),P(!1),j(y)})):w("Please enter a valid email address.")},U=e=>{e.preventDefault(),N();var s=!1;(0,o.N4)(i)?(s=!0,w("Please enter your email address.")):(0,o.vV)(i)||(s=!0,w("Please enter a valid email address.")),(0,o.N4)(y)&&(s=!0,S("Please enter your password.")),!s&&r&&(P(!0),k(i,y).then(e=>{P(!1),e&&t&&t(e.user)}).catch(e=>{let t;t="auth/wrong-password"==e.code?"Wrong email address or password. Check your email address and password, then try again.":"auth/user-not-found"==e.code?"Wrong email address or password. Check your email address and password, then try again.":(0,m.jB)(e,i),x().fire({icon:"error",text:t}),P(!1)}))};return(0,s.jsxs)(l.g,{children:[(0,s.jsx)(p.Z,{type:"text",title:"Email",placeholder:"Enter your email address.",mb:2,value:i,onChange:e=>c(e),errorMessage:g}),(0,s.jsx)(p.Z,{type:"password",title:"Password",placeholder:"Enter your password",mb:2,value:y,onChange:e=>{j(e)},errorMessage:b}),(0,s.jsx)(d.x,{alignSelf:"flex-end",children:(0,s.jsx)(u.Z,{href:"#",onClick:I,disabled:C,fontStyle:C&&!y?"italic":"normal",children:C&&(0,o.N4)(y)?"Please wait...":"Forgot password?"})}),(0,s.jsxs)(l.g,{display:"none",children:[(0,s.jsx)(v.Z,{mb:4,onClick:()=>{A().then(e=>{console.log("useAuthFlowGooglePopUpSignIn:userCredential",e),x().fire({icon:"success",text:e?"PopUp.Email: ".concat(e.user.email," | \n                    Phone: ").concat(e.user.phoneNumber," | \n                    providerId: ").concat(e.user.providerId):"Empty Credential"})}).catch(e=>{console.log("useAuthFlowGooglePopUpSignIn:error",e),x().fire({icon:"error",text:"ErrorCode: ".concat(null==e?void 0:e.code," | \n                    ErroMessage: ").concat(null==e?void 0:e.message)})})},children:"Sign In With Google Pop Up"}),(0,s.jsx)(v.Z,{onClick:()=>{A(!0,"http://localhost:3000/dashboard").then(e=>{console.log("useAuthFlowGooglePopUpSignIn:userCredential",e),x().fire({icon:"success",text:e?"Redirect.Email: ".concat(e.user.email," | \n                    Phone: ").concat(e.user.phoneNumber," | \n                    providerId: ").concat(e.user.providerId):"Empty Credential"})}).catch(e=>{console.log("useAuthFlowGooglePopUpSignIn:error",e),x().fire({icon:"error",text:"ErrorCode: ".concat(null==e?void 0:e.code," | \n                    ErroMessage: ").concat(null==e?void 0:e.message)})})},children:"Sign In With Google Redirect"})]}),(0,s.jsx)(h.Z,{w:"100%",alignSelf:"flex-start",id:"recaptcha-container",type:"submit",onClick:U,disabled:C,fontStyle:C&&y?"italic":"normal",mt:"1rem !important",mb:"1.5rem !important",children:C&&!(0,o.N4)(y)?"Please wait...":"Sign in"}),Z()]})};var y=r(7291);let j=e=>{let{onAuthDone:t}=e,{auth:r,db:i}=(0,m.f2)(),{signUp:c,onAuthPrompt:d,pendingCallback:u}=(0,f.ZP)(null==r?void 0:r.service),[g,v]=(0,a.useState)(""),[w,j]=(0,a.useState)(""),[b,S]=(0,a.useState)(),[C,P]=(0,a.useState)(),[k,E]=(0,a.useState)(),[Z,A]=(0,a.useState)(),[N,I]=(0,a.useState)(),U=()=>{P(""),E(""),A("")},R=e=>{U();var s=!1;(0,o.N4)(g)?(s=!0,P("Please enter your email address.")):(0,o.vV)(g)||(s=!0,P("Please enter a valid email address.")),(0,o.N4)(w)?(s=!0,E("Please enter your password.")):(0,o.N4)(b)?(s=!0,A("Re-enter password")):w!=b&&(s=!0,A("Password does not match")),!s&&r&&(I(!0),c(w,g,null,null,null,null,null,null==i?void 0:i.service).then(e=>{console.log("SignUp:done","userCredential",e),e&&(e.user.emailVerified?x().fire({icon:"success",title:"Registration successfull",text:"Your registration was successfull."}).then(()=>{I(!1),t&&t(e.user)}).catch(r=>{I(!1),t&&t(e.user)}):(0,y.w$)(e.user,{url:"".concat(n.Le,"/dashboard")}).then(()=>{x().fire({icon:"success",title:"Registration successfull",text:"Your registration was successfull. An email to verify your email address has been sent. Please check your email inbox or spam folder for the email sent."}).then(()=>{I(!1),t&&t(e.user)}).catch(r=>{I(!1),t&&t(e.user)})}).catch(r=>{console.log("SignUp:done.verify","error",r),x().fire({icon:"success",title:"Registration successfull",text:"Your registration was successfull."}).then(()=>{I(!1),t&&t(e.user)}).catch(r=>{I(!1),t&&t(e.user)})}))}).catch(e=>{let t;t="auth/email-already-in-use"==e.code?"Email already in use. Please sign in.":"auth/invalid-verification-code"==e.code?"The verification code is invalid.":"auth/popup-closed-by-user"==e.code?"Authentication cancelled.":(0,m.jB)(e,g),x().fire({icon:"error",text:t}),I(!1)}))};return(0,s.jsxs)(l.g,{children:[(0,s.jsx)(p.Z,{type:"text",title:"Email",placeholder:"Enter your email",mb:"1rem !important",value:g,onChange:e=>v(e),errorMessage:C}),(0,s.jsx)(p.Z,{type:"password",title:"Password",placeholder:"Enter your password",mb:"1rem !important",value:w,onChange:e=>{j(e)},errorMessage:k}),(0,s.jsx)(p.Z,{type:"password",title:"Confirm password",placeholder:"Re-enter password",mb:"1rem !important",value:b,onChange:e=>{S(e)},errorMessage:Z}),(0,s.jsx)(h.Z,{w:"100%",alignSelf:"flex-start",type:"submit",onClick:R,disabled:N,fontStyle:N?"italic":"normal",mt:"1rem !important",mb:"1.5rem !important",children:N&&!(0,o.N4)(w)?"Please wait...":"Sign up"}),d()]})};var b=r(1163);let S=e=>{let{as:t,signInTitle:r,signUpTitle:h,isSignIn:p,allowPathChange:m,onAuthDone:g,...x}=e,{pathname:f,push:v}=(0,b.useRouter)(),[y,S]=(0,a.useState)("/register"),[C,P]=(0,a.useState)();(0,a.useEffect)(()=>{P(!!(0,o.nj)(p)||p)},[p]),(0,a.useEffect)(()=>{S(C?"/register":"/login")},[C]);let k=e=>{e.preventDefault(),m?v(y):P(!C)};return(0,s.jsxs)(i.xu,{as:t||"div",minH:"60vh",w:"100%",maxW:"700px",p:{base:"15px 15px",md:"50px 80px"},m:"15px auto",...x,children:[(0,s.jsxs)(l.g,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,s.jsx)(c.E,{src:n.NU,h:"48px",w:"auto"}),(0,s.jsx)(d.x,{fontSize:"14px",mb:"1.5rem !important",textAlign:"center",children:p?r||"Welcome Back! Let's get you back in.":h||"Sign up to get started."})]}),C?(0,s.jsx)(w,{onAuthDone:g}):(0,s.jsx)(j,{onAuthDone:g}),(0,s.jsx)(d.x,{textAlign:"center",fontSize:"14px",children:C?(0,s.jsxs)(s.Fragment,{children:["Don't have an account yet? ",(0,s.jsx)(u.Z,{href:y,onClick:k,children:"Sign up here."})]}):(0,s.jsxs)(s.Fragment,{children:["Already have an account? ",(0,s.jsx)(u.Z,{href:y,onClick:k,children:"Log in here."})]})})]})};var C=S},5461:function(e,t,r){var s=r(5893),a=r(7294),n=r(3100),o=r(4641),i=r(8911),l=r(6918);let c=e=>{let{children:t,onClick:r,isActive:c,leftIcon:d,rightIcon:u,disabled:h,textAlign:p,textTransform:m,status:g,...x}=e,f=(0,l.Z)("pageBg.light","pageBg.dark"),v=(0,l.Z)("colorAccent.light","colorAccent.dark"),[w,y]=(0,a.useState)();return(0,a.useEffect)(()=>{switch(g){case"error":y("#e53e3e");break;case"info":y("#3182ce");break;case"warning":y("#dd6b20");break;case"loading":default:y("#dfdfdf");break;case"success":y("#38a169")}},[g]),(0,s.jsx)(n.xu,{borderRadius:"5px",p:"5px",bg:w||(c?v:f),color:c||w?"#fff":"inherit",cursor:"pointer",minH:"30px",minW:"60px",display:"flex",justifyContent:"center",alignItems:"center",onClick:h?()=>{}:r,_hover:{opacity:"0.7"},opacity:h?"0.7":"1",...x,children:(0,s.jsxs)(o.U,{justifyContent:"center",alignItems:"center",w:"100%",children:[d?(0,s.jsx)(n.xu,{mx:"7px !important",children:d}):null,(0,s.jsx)(i.x,{as:"div",w:"100%",textAlign:p||"center",textTransform:m||"capitalize",children:t}),u?(0,s.jsx)(n.xu,{mx:"7px !important",children:u}):null]})})};t.Z=c}}]);