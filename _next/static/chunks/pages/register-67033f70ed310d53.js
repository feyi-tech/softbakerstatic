(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{4722:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r(1861)}])},7918:function(e,t,r){"use strict";var n=r(5893),s=r(3100),a=r(2498);let o=e=>{let{as:t,children:r,...o}=e;return(0,n.jsx)(s.xu,{pos:"relative",w:"100%",bg:(0,a.ff)("cardBg.light","cardBg.dark"),borderRadius:"20px",boxShadow:"0 0.5rem 1rem rgb(0 0 0 / 15%) !important",p:"1rem",...o,children:r})};t.Z=o},1861:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var n=r(5893),s=r(8085),a=r(3346),o=r(574),i=r(2209),l=r(460),u=r(1163),c=r(7918),d=r(1669),m=r(6367),h=r(8911),p=r(7294),g=r(4641),x=r(9501),f=r(2393),v=r(3754),b=r(7442),y=r(6597),w=r(6455),S=r.n(w),j=r(7291),E=r(6918),P=r(8530),_=r(1459);let Z=e=>{let{onAuthDone:t}=e,{auth:r,db:a}=(0,y.f2)(),{signUp:o,onAuthPrompt:i,pendingCallback:l}=(0,P.ZP)(null==r?void 0:r.service),[u,c]=(0,p.useState)(""),[m,h]=(0,p.useState)(""),[w,Z]=(0,p.useState)(),[C,N]=(0,p.useState)(),[R,M]=(0,p.useState)(),[k,A]=(0,p.useState)(),[B,I]=(0,p.useState)(),[L,O]=(0,p.useState)(),[T,U]=(0,p.useState)(),[F,V]=(0,p.useState)(),[Y,z]=(0,p.useState)(),[D,H]=(0,p.useState)(),[X,Q]=(0,p.useState)(),W=()=>{M(""),A(""),I(""),O(""),z(""),H("")},$=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;e.length>0&&window.localStorage.setItem("MEET_OFFLINE_PHONE_EMAIL_".concat(e.replaceAll(" ","").trim()),t)},q=e=>{W();var n=!1;if((0,v.N4)(T)&&(n=!0,z("Please enter your firstname.")),(0,v.N4)(F)&&(n=!0,H("Please enter your surname.")),(0,v.N4)(u)?(n=!0,M("Please enter your email address.")):(0,v.vV)(u)||(n=!0,M("Please enter a valid email address.")),(0,v.N4)(null==C?void 0:C.number)?(n=!0,O("Please enter your phone number.")):(0,b.tm)((null==C?void 0:C.number)||"")||(n=!0,O("Please enter a valid phone number.")),(0,v.N4)(m)?(n=!0,A("Please enter your password.")):(0,v.N4)(w)?(n=!0,I("Re-enter password")):m!=w&&(n=!0,I("Password does not match")),!n&&r){Q(!0);let e={fullname:"".concat(T," ").concat(F),transaction_id:(0,_.EQ)()};o(m,u,null==C?void 0:C.number,"".concat(T," ").concat(F),null,e,"companions",null==a?void 0:a.service).then(r=>{console.log("SignUp:done","phone",null==C?void 0:C.number,"customData",e,"userCredential",r),r&&(r.user.emailVerified?S().fire({icon:"success",title:"Registration successfull",text:"Your registration was successfull."}).then(()=>{Q(!1),$(null==C?void 0:C.number,u),t&&t(r.user)}).catch(e=>{Q(!1),$(null==C?void 0:C.number,u),t&&t(r.user)}):(0,j.w$)(r.user,{url:"".concat(s.Le,"/dashboard")}).then(()=>{S().fire({icon:"success",title:"Registration successfull",text:"Your registration was successfull. An email to verify your email address has been sent. Please check your email inbox or spam folder for the email sent."}).then(()=>{Q(!1),$(null==C?void 0:C.number,u),t&&t(r.user)}).catch(e=>{Q(!1),$(null==C?void 0:C.number,u),t&&t(r.user)})}).catch(e=>{console.log("SignUp:done.verify","error",e),S().fire({icon:"success",title:"Registration successfull",text:"Your registration was successfull."}).then(()=>{Q(!1),$(null==C?void 0:C.number,u),t&&t(r.user)}).catch(e=>{Q(!1),$(null==C?void 0:C.number,u),t&&t(r.user)})}))}).catch(e=>{let t;t="auth/email-already-in-use"==e.code?"Email already in use. Please sign in.":"auth/invalid-verification-code"==e.code?"The verification code is invalid.":"auth/popup-closed-by-user"==e.code?"Authentication cancelled.":(0,y.jB)(e,u),S().fire({icon:"error",text:t}),Q(!1)})}};return(0,n.jsxs)(d.g,{children:[(0,n.jsxs)(g.U,{mb:"1rem !important",w:"100%",justifyContent:"space-between",alignItems:"flex-start",children:[(0,n.jsx)(f.Z,{type:"text",title:"Firstname",placeholder:"Enter your firstname",value:T,onChange:e=>U(e),errorMessage:Y}),(0,n.jsx)(f.Z,{type:"text",title:"Surname/Lastname",placeholder:"Enter your surname",value:F,onChange:e=>V(e),errorMessage:D})]}),(0,n.jsx)(f.Z,{type:"text",title:"Email",placeholder:"Enter your email",mb:"1rem !important",value:u,onChange:e=>c(e),errorMessage:R}),(0,n.jsx)(f.Z,{type:"phone",title:"Phone number",defaultCountry:s._V,phoneSelectBg:(0,E.Z)("pageBg.light","pageBg.dark"),phoneSelectColor:(0,E.Z)("colorPrimary.light","colorPrimary.dark"),placeholder:"Enter your phone number",mb:"1rem !important",value:C,onChange:e=>{N(e)},errorMessage:L}),(0,n.jsx)(f.Z,{type:"password",title:"Password",placeholder:"Enter your password",mb:"1rem !important",value:m,onChange:e=>{h(e)},errorMessage:k}),(0,n.jsx)(f.Z,{type:"password",title:"Confirm password",placeholder:"Re-enter password",mb:"1rem !important",value:w,onChange:e=>{Z(e)},errorMessage:B}),(0,n.jsx)(x.Z,{w:"100%",alignSelf:"flex-start",type:"submit",onClick:q,disabled:X,fontStyle:X?"italic":"normal",mt:"1rem !important",mb:"1.5rem !important",children:X&&!(0,v.N4)(m)?"Please wait...":"Sign up"}),i()]})};var C=r(1167);function N(){let e=(0,u.useRouter)(),t=t=>{e.push("/dashboard")};return(0,n.jsx)(a.Z,{title:"Register",description:"Register to get started",image:"".concat(s.Le,"/logo.png"),navMenu:o.Z,sideBarMenu:i.Z,children:(0,n.jsx)(l.Z,{px:"1rem",mt:"2rem",children:(0,n.jsxs)(c.Z,{minH:"60vh",w:"100%",maxW:"700px",p:{base:"15px 15px",md:"50px 80px"},m:"15px auto",borderRadius:"24px",children:[(0,n.jsxs)(d.g,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,n.jsx)(m.E,{src:s.NU,h:"48px",w:"auto"}),(0,n.jsx)(h.x,{fontSize:"14px",mb:"1.5rem !important",textAlign:"center",children:"Register to get started"})]}),(0,n.jsx)(Z,{onAuthDone:t}),(0,n.jsxs)(h.x,{textAlign:"center",fontSize:"14px",children:["Already have an account? ",(0,n.jsx)(C.Z,{href:"/login",children:"Sign in here."})]})]})})})}}},function(e){e.O(0,[722,50,193,127,530,774,888,179],function(){return e(e.s=4722)}),_N_E=e.O()}]);