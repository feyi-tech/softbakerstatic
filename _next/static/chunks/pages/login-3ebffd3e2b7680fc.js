(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(5707)}])},7918:function(e,r,t){"use strict";var n=t(5893),o=t(3100),a=t(2498);let s=e=>{let{as:r,children:t,...s}=e;return(0,n.jsx)(o.xu,{pos:"relative",w:"100%",bg:(0,a.ff)("cardBg.light","cardBg.dark"),borderRadius:"20px",boxShadow:"0 0.5rem 1rem rgb(0 0 0 / 15%) !important",p:"1rem",...s,children:t})};r.Z=s},5707:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return A}});var n=t(5893),o=t(8085),a=t(3346),s=t(574),i=t(2209),l=t(460),c=t(1163),d=t(7918),u=t(1669),p=t(6367),h=t(8911),m=t(7294),x=t(9501),g=t(2393),f=t(1167),b=t(3754),w=t(7442),v=t(6597),j=t(6455),y=t.n(j),k=t(8530),E=t(3100),S=t(4641),C=t(6918);let P=e=>{let{children:r,onClick:t,isActive:o,leftIcon:a,rightIcon:s,disabled:i,textAlign:l,textTransform:c,status:d,...u}=e,p=(0,C.Z)("pageBg.light","pageBg.dark"),x=(0,C.Z)("colorAccent.light","colorAccent.dark"),[g,f]=(0,m.useState)();return(0,m.useEffect)(()=>{switch(d){case"error":f("#e53e3e");break;case"info":f("#3182ce");break;case"warning":f("#dd6b20");break;case"loading":default:f("#dfdfdf");break;case"success":f("#38a169")}},[d]),(0,n.jsx)(E.xu,{borderRadius:"5px",p:"5px",bg:g||(o?x:p),color:o||g?"#fff":"inherit",cursor:"pointer",minH:"30px",minW:"60px",display:"flex",justifyContent:"center",alignItems:"center",onClick:i?()=>{}:t,_hover:{opacity:"0.7"},opacity:i?"0.7":"1",...u,children:(0,n.jsxs)(S.U,{justifyContent:"center",alignItems:"center",w:"100%",children:[a?(0,n.jsx)(E.xu,{mx:"7px !important",children:a}):null,(0,n.jsx)(h.x,{as:"div",w:"100%",textAlign:l||"center",textTransform:c||"capitalize",children:r}),s?(0,n.jsx)(E.xu,{mx:"7px !important",children:s}):null]})})},I=e=>e?e.startsWith("0")?"+234".concat(e.substring(1)).replaceAll(" ","").trim():e.replaceAll(" ","").trim():e,_=e=>{let{onAuthDone:r}=e,{auth:t,db:o}=(0,v.f2)(),[a,s]=(0,m.useState)(""),[i,l]=(0,m.useState)(),[c,d]=(0,m.useState)(""),[p,j]=(0,m.useState)(),[E,S]=(0,m.useState)(),{signIn:C,resetPassword:_,onAuthPrompt:A,googleSignIn:N}=(0,k.ZP)(null==t?void 0:t.service),Z=()=>{l(""),j("")},W=e=>{e.preventDefault(),e.preventDefault(),Z(),(0,b.N4)(a)?l("Please enter your email address or phone number"):(0,b.vV)(a)||(0,w.tm)(I(a))?t&&(d(""),S(!0),_(I(a)).then(()=>{y().fire({icon:"info",text:(0,b.vV)(a)?"A password reset email has been sent to ".concat(a,". Check your inbox or spam folder for the email sent."):"A password reset code has been sent to ".concat(a,". Check your messages for the code sent.")}),S(!1),d(c)}).catch(e=>{let r;r="auth/user-not-found"==e.code?"The account is invalid.":e.message,y().fire({icon:"error",text:r}),S(!1),d(c)})):l("Please enter a valid email address or phone number.")},B=e=>new Promise((r,t)=>{e=I(e);let n=window.localStorage.getItem("MEET_OFFLINE_PHONE_EMAIL_".concat(e));return r(n||e)}),M=e=>{e.preventDefault(),Z();var n=!1;(0,b.N4)(a)?(n=!0,l("Please enter your email address or phone number")):(0,b.vV)(a)||(0,w.tm)(I(a))||(n=!0,l("Please enter a valid email address or phone number.")),(0,b.N4)(c)&&(n=!0,j("Please enter your password.")),!n&&t&&(S(!0),B(a).then(e=>{C(e,c).then(e=>{S(!1),e&&r&&r(e.user)}).catch(r=>{let t;t="auth/wrong-password"==r.code?"Wrong email address or password. Check your email address and password, then try again.":"auth/user-not-found"==r.code?"Wrong email address or password. Check your email address and password, then try again.":(0,v.jB)(r,e),y().fire({icon:"error",text:t}),S(!1)})}))};return(0,n.jsxs)(u.g,{children:[(0,n.jsx)(g.Z,{type:"text",title:"Email or Phone",placeholder:"Enter your email or phone number",mb:2,value:a,onChange:e=>s(e),errorMessage:i}),(0,n.jsx)(g.Z,{type:"password",title:"Password",placeholder:"Enter your password",mb:2,value:c,onChange:e=>{d(e)},errorMessage:p}),(0,n.jsx)(h.x,{alignSelf:"flex-end",children:(0,n.jsx)(f.Z,{href:"#",onClick:W,disabled:E,fontStyle:E&&!c?"italic":"normal",children:E&&(0,b.N4)(c)?"Please wait...":"Forgot password?"})}),(0,n.jsxs)(u.g,{display:"none",children:[(0,n.jsx)(P,{mb:4,onClick:()=>{N().then(e=>{console.log("useAuthFlowGooglePopUpSignIn:userCredential",e),y().fire({icon:"success",text:e?"PopUp.Email: ".concat(e.user.email," | \n                    Phone: ").concat(e.user.phoneNumber," | \n                    providerId: ").concat(e.user.providerId):"Empty Credential"})}).catch(e=>{console.log("useAuthFlowGooglePopUpSignIn:error",e),y().fire({icon:"error",text:"ErrorCode: ".concat(null==e?void 0:e.code," | \n                    ErroMessage: ").concat(null==e?void 0:e.message)})})},children:"Sign In With Google Pop Up"}),(0,n.jsx)(P,{onClick:()=>{N(!0,"http://localhost:3000/dashboard").then(e=>{console.log("useAuthFlowGooglePopUpSignIn:userCredential",e),y().fire({icon:"success",text:e?"Redirect.Email: ".concat(e.user.email," | \n                    Phone: ").concat(e.user.phoneNumber," | \n                    providerId: ").concat(e.user.providerId):"Empty Credential"})}).catch(e=>{console.log("useAuthFlowGooglePopUpSignIn:error",e),y().fire({icon:"error",text:"ErrorCode: ".concat(null==e?void 0:e.code," | \n                    ErroMessage: ").concat(null==e?void 0:e.message)})})},children:"Sign In With Google Redirect"})]}),(0,n.jsx)(x.Z,{w:"100%",alignSelf:"flex-start",id:"recaptcha-container",type:"submit",onClick:M,disabled:E,fontStyle:E&&c?"italic":"normal",mt:"1rem !important",mb:"1.5rem !important",children:E&&!(0,b.N4)(c)?"Please wait...":"Sign in"}),A()]})};function A(){let e=(0,c.useRouter)(),r=r=>{e.push("/dashboard")};return(0,n.jsx)(a.Z,{title:"Sign In",description:"Welcome Back! Let's get you back in.",image:"".concat(o.Le,"/logo.png"),navMenu:s.Z,sideBarMenu:i.Z,children:(0,n.jsx)(l.Z,{px:"1rem",mt:"2rem",children:(0,n.jsxs)(d.Z,{minH:"60vh",w:"100%",maxW:"700px",p:{base:"15px 15px",md:"50px 80px"},m:"15px auto",borderRadius:"24px",children:[(0,n.jsxs)(u.g,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,n.jsx)(p.E,{src:o.NU,h:"48px",w:"auto"}),(0,n.jsx)(h.x,{fontSize:"14px",mb:"1.5rem !important",textAlign:"center",children:"Welcome Back! Let's get you back in."})]}),(0,n.jsx)(_,{onAuthDone:r}),(0,n.jsxs)(h.x,{textAlign:"center",fontSize:"14px",children:["Don't have an account yet? ",(0,n.jsx)(f.Z,{href:"/register",children:"Sign up here."})]})]})})})}}},function(e){e.O(0,[722,50,193,127,530,774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);